<!DOCTYPE html>
<html>
  <head>
    <title>Vim Reboot 6</title>
    <link href='http://fonts.googleapis.com/css?family=Arvo&v2' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Chivo' rel='stylesheet' type='text/css'>
    <link rel='stylesheet' href='/css/screen.css'></link>
    <link rel='stylesheet' href='/css/highlight.css'></link>
    <link rel='shortcut icon' type='image/ico' href='http://mcramm.com/favicon.png'></link>
  </head>
  <body>
    <div class='header'>
        <a class='header-text' href='/'>mcramm.com</a>
        <div class='navigation'>
            <a href='/'>About</a>
            <a href='/posts.html'>Posts</a>
            <a target='_blank' href='http://feeds.feedburner.com/mcramm'>Feed</a>
        </div>
    </div>
    <div class='content'>
    <h1>Vim Reboot 6 </h1>
    <h3 id='commandt'>Command-T</h3>

<p>I used <a href='http://macromates.com/'>Textmate</a> when I first started learning Ruby/Rails and after I switched to Vim, I missed the ability to use the <code>&lt;Cmd&gt;-t</code> hotkey to quickly open up new files. What was so great about it was that you could hit the hotkey and start typing the name of your file to filter the resulting list. Once you had filtered the list enough to have your file appear at the top, you just hit <code>&lt;Enter&gt;</code> and the file would open as the active pane in Textmate.</p>

<p>After a bit of research, I came across <a href='http://www.vim.org/scripts/script.php?script_id=3025'>Command-T</a>. This plugin works in the exact same and can even be improved with some minor configuration.</p>

<p>Installing this plugin is slightly more involved than others. First, download the <code>.vba</code>, open it in vim and source it with <code>:so %</code>.</p>

<p>You then need to install the C extension:</p>
<div class='highlight'><pre><code class='bash'><span class='nb'>cd</span> ~/.vim/ruby/command-t
ruby extconf.rb
make
</code></pre>
</div>
<p>And the plugin will be installed! I would recommend doing the following configuration as well:</p>

<p>From my <code>~/.vimrc</code>:</p>
<div class='highlight'><pre><code class='vim'><span class='c'>&quot; Command-T configuration</span>
<span class='c'>&quot; Set the max height to 20 lines</span>
<span class='p'>:</span><span class='k'>let</span> <span class='k'>g</span>:CommandTMaxHeight<span class='p'>=</span><span class='m'>20</span>
<span class='c'>&quot; Show dotfiles like .gitignore, .rvmrc</span>
<span class='p'>:</span><span class='k'>let</span> <span class='k'>g</span>:CommandTAlwaysShowDotFiles<span class='p'>=</span><span class='m'>1</span>
<span class='c'>&quot; The maximum number of files to search through</span>
<span class='p'>:</span><span class='k'>let</span> <span class='k'>g</span>:CommandTMaxFiles<span class='p'>=</span><span class='m'>20000</span>
<span class='c'>&quot; Map ctrl-t to command-T since the meta key isn&#39;t available when using</span>
<span class='c'>&quot; vim on the server</span>
<span class='p'>:</span>map <span class='p'>&lt;</span>C<span class='p'>-</span>T<span class='p'>&gt;</span> :CommandT<span class='p'>&lt;</span>CR<span class='p'>&gt;</span>
</code></pre>
</div>
<p>And from my <code>~/.gvimrc</code>:</p>
<div class='highlight'><pre><code class='vim'><span class='c'>&quot; Set the mac meta key</span>
macmenu &amp;File.New\ Tab <span class='nb'>key</span><span class='p'>=&lt;</span>D<span class='p'>-</span>T<span class='p'>&gt;</span>
map <span class='p'>&lt;</span>D<span class='p'>-</span><span class='k'>t</span><span class='p'>&gt;</span> :CommandT<span class='p'>&lt;</span>CR<span class='p'>&gt;</span>
imap <span class='p'>&lt;</span>D<span class='p'>-</span><span class='k'>t</span><span class='p'>&gt;</span> <span class='p'>&lt;</span>Esc<span class='p'>&gt;</span>:CommandT<span class='p'>&lt;</span>CR<span class='p'>&gt;</span>
</code></pre>
</div>
<p>When you&#8217;re in a project, you can now hit <code>&lt;Cmd&gt;-t</code> and start typing the name of the file you wish to edit. You can scroll up and down the list by using <code>&lt;Ctrl&gt;-j</code> and <code>&lt;Ctrl&gt;-k</code> respectively. To open a file, just hit <code>&lt;Enter&gt;</code>. You can also open a file in a new vertical split by doing <code>&lt;Ctrl&gt;-v</code>, or in a new tab by doing <code>&lt;Ctrl&gt;-t</code>.</p>

<h3 id='setting_the_default_leader_key'>Setting the default leader key</h3>

<p>It might be a good idea at this point to update the default leader key used to prepend any custom mappings you create. I always set mine to <code>,</code>.</p>

<p>In <code>~/.vimrc</code>:</p>
<div class='highlight'><pre><code class='vim'><span class='c'>&quot; Set the leader</span>
<span class='k'>let</span> mapleader <span class='p'>=</span> <span class='s2'>&quot;,&quot;</span>
</code></pre>
</div>
<p>Now you can do something like this:</p>
<div class='highlight'><pre><code class='vim'><span class='c'>&quot; toggle line numbering on and off</span>
map <span class='p'>&lt;</span>Leader<span class='p'>&gt;</span><span class='k'>n</span> :<span class='k'>set</span> <span class='k'>number</span><span class='p'>!&lt;</span>CR<span class='p'>&gt;</span>
</code></pre>
</div>
<p>When you hit <code>,n</code> in vim, line numbers will be toggle on and off.</p>

<h3 id='commandts_buffer_list'>Command-T&#8217;s buffer list</h3>

<p>Now that we have the default leader setup, we can take advantage of Command-T&#8217;s built-in buffer manager. If you don&#8217;t know what buffers are in vim then you should take a look at <a href='http://vim.wikia.com/wiki/Vim_buffer_FAQ'>this page</a>.</p>

<p>After you&#8217;ve opened/closed a few files, you hit <code>,b</code> to see a list of any buffers open in the current session. In some cases, this can actually be quicker than using the standard Command-T interface.</p>

<p>There is an alternative to Command-T&#8217;s buffer window called <a href='https://github.com/sjbach/lusty'>LustyJuggler</a>. I would recommend giving it a try if you&#8217;re not fond of how Command-T manages buffers.</p>
</div>
<div class='respond'>
    Want to comment? Send a message to <a href='https://twitter.com/intent/tweet?text=@cramm'>@cramm</a> on Twitter.
</div>


    <div class='footer-wrap'>
        <div class='footer'>
            <div class='copyright'>&copy; 2012 Michael Cramm</div>
        </div>
    </div>
</body>
</html>
